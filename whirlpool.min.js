/* Whirlpool
 * fork of http://www.sunsean.com/Whirlpool.js for nodejs
 * (c) 2013 David (daXXog) Volm ><> + + + <><
 * Released under Apache License, Version 2.0:
 * http://www.apache.org/licenses/LICENSE-2.0.html  
 */ !function(r,o){"object"==typeof exports?module.exports=o():"function"==typeof define&&define.amd?define(o):r.Whirlpool=o()}(this,function(){var r;return function(){var o,f,n,t,e,i,u,a,c,l,h,p,d=10,v=[],s=[],y="á £ì›¨èž¸Åãš¦í‹µç¥¯é…’æ‚¼é®ŽêŒŒç¬µá· íŸ‚â¹‹ï¹—á•·ãŸ¥é¿°ä«šå£‰â¤Šë† æ®…ëµáƒ´ì¬¾Õ§î§ä†‹ê½é—˜ï¯®ç±¦í´—äžžì¨­ë¼‡êµšèŒ³æŒ‚ê©±ì ™ä§™ï‹£å®ˆé¨¦ãŠ°î¤í–€ë»ã‘ˆï½ºéŸâ¨áª®ë‘”éŒ¢æ“±çŒ’ä€ˆì¬í®¡è´½éœ€ì¼«çš‚í˜›ë–¯æ©ä—³ãƒ¯ã½•ê‹ªæ–ºâ¿€í¸œïµé‰µÚŠë‹¦à¸Ÿæ‹”ê¢–ï§…â•™è‘²ã¥Œå¹¸ã¢Œí†¥î‰¡ëŒ¡é°žä‡ï°„å†™æ´ï«Ÿç¸¤ã®«ì¸‘è½ŽëŸ«ã²é“·ë¤“â³“î®ìƒå™„ç¾©âª»ì…“í°‹éµ¬ã…´ï™†ê²‰á“¡á˜ºæ¤‰ç‚¶íƒ­ì±‚é¢¤â¡œï¢†";for(f=8;f-->0;)v[f]=[];for(n=0;256>n;n++){t=y.charCodeAt(n/2),u=0==(1&n)?t>>>8:255&t,a=u<<1,a>=256&&(a^=285),c=a<<1,c>=256&&(c^=285),l=c^u,h=c<<1,h>=256&&(h^=285),p=h^u,v[0][n]=[0,0],v[0][n][0]=u<<24|u<<16|c<<8|u,v[0][n][1]=h<<24|l<<16|a<<8|p;for(var f=1;8>f;f++)v[f][n]=[0,0],v[f][n][0]=v[f-1][n][0]>>>8|v[f-1][n][1]<<24,v[f][n][1]=v[f-1][n][1]>>>8|v[f-1][n][0]<<24}for(s[0]=[0,0],e=1;d>=e;e++)i=8*(e-1),s[e]=[0,0],s[e][0]=4278190080&v[0][i][0]^16711680&v[1][i+1][0]^65280&v[2][i+2][0]^255&v[3][i+3][0],s[e][1]=4278190080&v[4][i+4][1]^16711680&v[5][i+5][1]^65280&v[6][i+6][1]^255&v[7][i+7][1];var g=[],A=[],C=0,b=0,m=[],x=[],z=[],W=[],j=[],q=function(){var r,o,f,n,t;for(r=0,o=0;8>r;r++,o+=8)W[r]=[0,0],W[r][0]=(255&A[o])<<24^(255&A[o+1])<<16^(255&A[o+2])<<8^255&A[o+3],W[r][1]=(255&A[o+4])<<24^(255&A[o+5])<<16^(255&A[o+6])<<8^255&A[o+7];for(r=0;8>r;r++)j[r]=[0,0],x[r]=[0,0],j[r][0]=W[r][0]^(x[r][0]=m[r][0]),j[r][1]=W[r][1]^(x[r][1]=m[r][1]);for(f=1;d>=f;f++){for(r=0;8>r;r++)for(z[r]=[0,0],t=0,n=56,o=0;8>t;t++,n-=8,o=32>n?1:0)z[r][0]^=v[t][x[r-t&7][o]>>>n%32&255][0],z[r][1]^=v[t][x[r-t&7][o]>>>n%32&255][1];for(r=0;8>r;r++)x[r][0]=z[r][0],x[r][1]=z[r][1];for(x[0][0]^=s[f][0],x[0][1]^=s[f][1],r=0;8>r;r++)for(z[r][0]=x[r][0],z[r][1]=x[r][1],t=0,n=56,o=0;8>t;t++,n-=8,o=32>n?1:0)z[r][0]^=v[t][j[r-t&7][o]>>>n%32&255][0],z[r][1]^=v[t][j[r-t&7][o]>>>n%32&255][1];for(r=0;8>r;r++)j[r][0]=z[r][0],j[r][1]=z[r][1]}for(r=0;8>r;r++)m[r][0]^=j[r][0]^W[r][0],m[r][1]^=j[r][1]^W[r][1]};o=r=function(r){return o.init().add(r).finalize()},o.version="3.0",o.init=function(){for(var r=32;r-->0;)g[r]=0;for(C=b=0,A=[0],r=8;r-->0;)m[r]=[0,0];return o};var B=function(r){var o,f,n=r.toString();for(r=[],o=0;o<n.length;o++)f=n.charCodeAt(o),f>=256&&r.push(f>>>8&255),r.push(255&f);return r};o.add=function(r,f){if(!r)return o;f||(r=B(r),f=8*r.length);var n,t,e,i=0,u=8-(7&f)&7,a=7&C,c=f;for(n=31,e=0;n>=0;n--)e+=(255&g[n])+c%256,g[n]=255&e,e>>>=8,c=Math.floor(c/256);for(;f>8;){if(t=r[i]<<u&255|(255&r[i+1])>>>8-u,0>t||t>=256)return"Whirlpool requires a byte array";A[b++]|=t>>>a,C+=8-a,512==C&&(q(),C=b=0,A=[]),A[b]=t<<8-a&255,C+=a,f-=8,i++}return f>0?(t=r[i]<<u&255,A[b]|=t>>>a):t=0,8>a+f?C+=f:(b++,C+=8-a,f-=8-a,512==C&&(q(),C=b=0,A=[]),A[b]=t<<8-a&255,C+=f),o},o.finalize=function(){var r,o,f,n="",t=[],e="0123456789ABCDEF".split("");if(A[b]|=128>>>(7&C),b++,b>32){for(;64>b;)A[b++]=0;q(),b=0,A=[]}for(;32>b;)A[b++]=0;for(A.push.apply(A,g),q(),r=0,o=0;8>r;r++,o+=8)f=m[r][0],t[o]=f>>>24&255,t[o+1]=f>>>16&255,t[o+2]=f>>>8&255,t[o+3]=255&f,f=m[r][1],t[o+4]=f>>>24&255,t[o+5]=f>>>16&255,t[o+6]=f>>>8&255,t[o+7]=255&f;for(r=0;r<t.length;r++)n+=e[t[r]>>>4],n+=e[15&t[r]];return n}}(),r});