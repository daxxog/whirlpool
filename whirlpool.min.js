/* Whirlpool
 * fork of http://www.sunsean.com/Whirlpool.js for nodejs
 * (c) 2013 David (daXXog) Volm ><> + + + <><
 * Released under Apache License, Version 2.0:
 * http://www.apache.org/licenses/LICENSE-2.0.html  
 */ !function(r,o){"object"==typeof exports?module.exports=o():"function"==typeof define&&define.amd?define(o):r.Whirlpool=o()}(this,function(){return function(){var r,o,f,n,t,i,e,u,a,l,h,p,c=10,d=[],v=[],s="á £ì›¨èž¸Åãš¦í‹µç¥¯é…’æ‚¼é®ŽêŒŒç¬µá· íŸ‚â¹‹ï¹—á•·ãŸ¥é¿°ä«šå£‰â¤Šë† æ®…ëµáƒ´ì¬¾Õ§î§ä†‹ê½é—˜ï¯®ç±¦í´—äžžì¨­ë¼‡êµšèŒ³æŒ‚ê©±ì ™ä§™ï‹£å®ˆé¨¦ãŠ°î¤í–€ë»ã‘ˆï½ºéŸâ¨áª®ë‘”éŒ¢æ“±çŒ’ä€ˆì¬í®¡è´½éœ€ì¼«çš‚í˜›ë–¯æ©ä—³ãƒ¯ã½•ê‹ªæ–ºâ¿€í¸œïµé‰µÚŠë‹¦à¸Ÿæ‹”ê¢–ï§…â•™è‘²ã¥Œå¹¸ã¢Œí†¥î‰¡ëŒ¡é°žä‡ï°„å†™æ´ï«Ÿç¸¤ã®«ì¸‘è½ŽëŸ«ã²é“·ë¤“â³“î®ìƒå™„ç¾©âª»ì…“í°‹éµ¬ã…´ï™†ê²‰á“¡á˜ºæ¤‰ç‚¶íƒ­ì±‚é¢¤â¡œï¢†";for(o=8;o-->0;)d[o]=[];for(f=0;256>f;f++){n=s.charCodeAt(f/2),e=0==(1&f)?n>>>8:255&n,u=e<<1,u>=256&&(u^=285),a=u<<1,a>=256&&(a^=285),l=a^e,h=a<<1,h>=256&&(h^=285),p=h^e,d[0][f]=[0,0],d[0][f][0]=e<<24|e<<16|a<<8|e,d[0][f][1]=h<<24|l<<16|u<<8|p;for(var o=1;8>o;o++)d[o][f]=[0,0],d[o][f][0]=d[o-1][f][0]>>>8|d[o-1][f][1]<<24,d[o][f][1]=d[o-1][f][1]>>>8|d[o-1][f][0]<<24}for(v[0]=[0,0],t=1;c>=t;t++)i=8*(t-1),v[t]=[0,0],v[t][0]=4278190080&d[0][i][0]^16711680&d[1][i+1][0]^65280&d[2][i+2][0]^255&d[3][i+3][0],v[t][1]=4278190080&d[4][i+4][1]^16711680&d[5][i+5][1]^65280&d[6][i+6][1]^255&d[7][i+7][1];var y=[],g=[],W=0,A=0,C=[],b=[],m=[],x=[],z=[],j=function(){var r,o,f,n,t;for(r=0,o=0;8>r;r++,o+=8)x[r]=[0,0],x[r][0]=(255&g[o])<<24^(255&g[o+1])<<16^(255&g[o+2])<<8^255&g[o+3],x[r][1]=(255&g[o+4])<<24^(255&g[o+5])<<16^(255&g[o+6])<<8^255&g[o+7];for(r=0;8>r;r++)z[r]=[0,0],b[r]=[0,0],z[r][0]=x[r][0]^(b[r][0]=C[r][0]),z[r][1]=x[r][1]^(b[r][1]=C[r][1]);for(f=1;c>=f;f++){for(r=0;8>r;r++)for(m[r]=[0,0],t=0,n=56,o=0;8>t;t++,n-=8,o=32>n?1:0)m[r][0]^=d[t][b[r-t&7][o]>>>n%32&255][0],m[r][1]^=d[t][b[r-t&7][o]>>>n%32&255][1];for(r=0;8>r;r++)b[r][0]=m[r][0],b[r][1]=m[r][1];for(b[0][0]^=v[f][0],b[0][1]^=v[f][1],r=0;8>r;r++)for(m[r][0]=b[r][0],m[r][1]=b[r][1],t=0,n=56,o=0;8>t;t++,n-=8,o=32>n?1:0)m[r][0]^=d[t][z[r-t&7][o]>>>n%32&255][0],m[r][1]^=d[t][z[r-t&7][o]>>>n%32&255][1];for(r=0;8>r;r++)z[r][0]=m[r][0],z[r][1]=m[r][1]}for(r=0;8>r;r++)C[r][0]^=z[r][0]^x[r][0],C[r][1]^=z[r][1]^x[r][1]};r=Whirlpool=function(o){return r.init().add(o).finalize()},r.version="3.0",r.init=function(){for(var o=32;o-->0;)y[o]=0;for(W=A=0,g=[0],o=8;o-->0;)C[o]=[0,0];return r};var q=function(r){var o,f,n=r.toString();for(r=[],o=0;o<n.length;o++)f=n.charCodeAt(o),f>=256&&r.push(f>>>8&255),r.push(255&f);return r};r.add=function(o,f){if(!o)return r;f||(o=q(o),f=8*o.length);var n,t,i,e=0,u=8-(7&f)&7,a=7&W,l=f;for(n=31,i=0;n>=0;n--)i+=(255&y[n])+l%256,y[n]=255&i,i>>>=8,l=Math.floor(l/256);for(;f>8;){if(t=o[e]<<u&255|(255&o[e+1])>>>8-u,0>t||t>=256)return"Whirlpool requires a byte array";g[A++]|=t>>>a,W+=8-a,512==W&&(j(),W=A=0,g=[]),g[A]=t<<8-a&255,W+=a,f-=8,e++}return f>0?(t=o[e]<<u&255,g[A]|=t>>>a):t=0,8>a+f?W+=f:(A++,W+=8-a,f-=8-a,512==W&&(j(),W=A=0,g=[]),g[A]=t<<8-a&255,W+=f),r},r.finalize=function(){var r,o,f,n="",t=[],i="0123456789ABCDEF".split("");if(g[A]|=128>>>(7&W),A++,A>32){for(;64>A;)g[A++]=0;j(),A=0,g=[]}for(;32>A;)g[A++]=0;for(g.push.apply(g,y),j(),r=0,o=0;8>r;r++,o+=8)f=C[r][0],t[o]=f>>>24&255,t[o+1]=f>>>16&255,t[o+2]=f>>>8&255,t[o+3]=255&f,f=C[r][1],t[o+4]=f>>>24&255,t[o+5]=f>>>16&255,t[o+6]=f>>>8&255,t[o+7]=255&f;for(r=0;r<t.length;r++)n+=i[t[r]>>>4],n+=i[15&t[r]];return n}}(),Whirlpool});