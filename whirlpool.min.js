/* Whirlpool
 * fork of http://www.sunsean.com/Whirlpool.js for nodejs
 * (c) 2013 David (daXXog) Volm ><> + + + <><
 * Released under Apache License, Version 2.0:
 * http://www.apache.org/licenses/LICENSE-2.0.html  
 */ !function(r,o){"object"==typeof exports?module.exports=o():"function"==typeof define&&define.amd?define(o):r.Whirlpool=o()}(this,function(){var r;return function(){var o,f,n,t,e,i,a,u,c,l,d,h,p=10,v=[],s=[],y="á £ì›¨èž¸Åãš¦í‹µç¥¯é…’æ‚¼é®ŽêŒŒç¬µá· íŸ‚â¹‹ï¹—á•·ãŸ¥é¿°ä«šå£‰â¤Šë† æ®…ëµáƒ´ì¬¾Õ§î§ä†‹ê½é—˜ï¯®ç±¦í´—äžžì¨­ë¼‡êµšèŒ³æŒ‚ê©±ì ™ä§™ï‹£å®ˆé¨¦ãŠ°î¤í–€ë»ã‘ˆï½ºéŸâ¨áª®ë‘”éŒ¢æ“±çŒ’ä€ˆì¬í®¡è´½éœ€ì¼«çš‚í˜›ë–¯æ©ä—³ãƒ¯ã½•ê‹ªæ–ºâ¿€í¸œïµé‰µÚŠë‹¦à¸Ÿæ‹”ê¢–ï§…â•™è‘²ã¥Œå¹¸ã¢Œí†¥î‰¡ëŒ¡é°žä‡ï°„å†™æ´ï«Ÿç¸¤ã®«ì¸‘è½ŽëŸ«ã²é“·ë¤“â³“î®ìƒå™„ç¾©âª»ì…“í°‹éµ¬ã…´ï™†ê²‰á“¡á˜ºæ¤‰ç‚¶íƒ­ì±‚é¢¤â¡œï¢†";for(f=8;f-->0;)v[f]=[];for(n=0;256>n;n++){t=y.charCodeAt(n/2),a=0==(1&n)?t>>>8:255&t,u=a<<1,u>=256&&(u^=285),c=u<<1,c>=256&&(c^=285),l=c^a,d=c<<1,d>=256&&(d^=285),h=d^a,v[0][n]=[0,0],v[0][n][0]=a<<24|a<<16|c<<8|a,v[0][n][1]=d<<24|l<<16|u<<8|h;for(var f=1;8>f;f++)v[f][n]=[0,0],v[f][n][0]=v[f-1][n][0]>>>8|v[f-1][n][1]<<24,v[f][n][1]=v[f-1][n][1]>>>8|v[f-1][n][0]<<24}for(s[0]=[0,0],e=1;p>=e;e++)i=8*(e-1),s[e]=[0,0],s[e][0]=4278190080&v[0][i][0]^16711680&v[1][i+1][0]^65280&v[2][i+2][0]^255&v[3][i+3][0],s[e][1]=4278190080&v[4][i+4][1]^16711680&v[5][i+5][1]^65280&v[6][i+6][1]^255&v[7][i+7][1];var g=[],b=[],m=0,x=0,z=[],A=[],C=[],W=[],j=[],q=function(){var r,o,f,n,t;for(r=0,o=0;8>r;r++,o+=8)W[r]=[0,0],W[r][0]=(255&b[o])<<24^(255&b[o+1])<<16^(255&b[o+2])<<8^255&b[o+3],W[r][1]=(255&b[o+4])<<24^(255&b[o+5])<<16^(255&b[o+6])<<8^255&b[o+7];for(r=0;8>r;r++)j[r]=[0,0],A[r]=[0,0],j[r][0]=W[r][0]^(A[r][0]=z[r][0]),j[r][1]=W[r][1]^(A[r][1]=z[r][1]);for(f=1;p>=f;f++){for(r=0;8>r;r++)for(C[r]=[0,0],t=0,n=56,o=0;8>t;t++,n-=8,o=32>n?1:0)C[r][0]^=v[t][A[r-t&7][o]>>>n%32&255][0],C[r][1]^=v[t][A[r-t&7][o]>>>n%32&255][1];for(r=0;8>r;r++)A[r][0]=C[r][0],A[r][1]=C[r][1];for(A[0][0]^=s[f][0],A[0][1]^=s[f][1],r=0;8>r;r++)for(C[r][0]=A[r][0],C[r][1]=A[r][1],t=0,n=56,o=0;8>t;t++,n-=8,o=32>n?1:0)C[r][0]^=v[t][j[r-t&7][o]>>>n%32&255][0],C[r][1]^=v[t][j[r-t&7][o]>>>n%32&255][1];for(r=0;8>r;r++)j[r][0]=C[r][0],j[r][1]=C[r][1]}for(r=0;8>r;r++)z[r][0]^=j[r][0]^W[r][0],z[r][1]^=j[r][1]^W[r][1]};o=r=function(r){return o.init().add(r).finalize()},o.version="3.0",o.init=function(){for(var r=32;r-->0;)g[r]=0;for(m=x=0,b=[0],r=8;r-->0;)z[r]=[0,0];return o};var M=function(r){var o,f,n=r.toString();for(r=[],o=0;o<n.length;o++)f=n.charCodeAt(o),f>=256&&r.push(f>>>8&255),r.push(255&f);return r};o.add=function(r,f){if(!r)return o;f||(r=M(r),f=8*r.length);var n,t,e,i=0,a=8-(7&f)&7,u=7&m,c=f;for(n=31,e=0;n>=0;n--)e+=(255&g[n])+c%256,g[n]=255&e,e>>>=8,c=Math.floor(c/256);for(;f>8;){if(t=r[i]<<a&255|(255&r[i+1])>>>8-a,0>t||t>=256)return"Whirlpool requires a byte array";b[x++]|=t>>>u,m+=8-u,512==m&&(q(),m=x=0,b=[]),b[x]=t<<8-u&255,m+=u,f-=8,i++}return f>0?(t=r[i]<<a&255,b[x]|=t>>>u):t=0,8>u+f?m+=f:(x++,m+=8-u,f-=8-u,512==m&&(q(),m=x=0,b=[]),b[x]=t<<8-u&255,m+=f),o},o.finalize=function(){var r,o,f,n="",t=[],e="0123456789abcdef".split("");if(b[x]|=128>>>(7&m),x++,x>32){for(;64>x;)b[x++]=0;q(),x=0,b=[]}for(;32>x;)b[x++]=0;for(b.push.apply(b,g),q(),r=0,o=0;8>r;r++,o+=8)f=z[r][0],t[o]=f>>>24&255,t[o+1]=f>>>16&255,t[o+2]=f>>>8&255,t[o+3]=255&f,f=z[r][1],t[o+4]=f>>>24&255,t[o+5]=f>>>16&255,t[o+6]=f>>>8&255,t[o+7]=255&f;for(r=0;r<t.length;r++)n+=e[t[r]>>>4],n+=e[15&t[r]];return n}}(),r});